#!/bin/bash
# THE-CLAW: Launch Claude Code #1 Profile
# Auto-starts THE-CLAW with only Profile 1 (Claude Code #1)

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
cd "$SCRIPT_DIR"

# Auto-bootstrap
if [ ! -d "$SCRIPT_DIR/claude-control-browser/node_modules" ] || [ ! -f "$SCRIPT_DIR/claude-control-browser/node_modules/electron/index.js" ]; then
    echo "ğŸ“¦ Auto-bootstrapping dependencies..."
    if ! ./bootstrap.sh > /tmp/claw-bootstrap.log 2>&1; then
        echo "âŒ Auto-bootstrap failed"
        exit 1
    fi
fi

export CLAW_PROFILES=1
echo "ğŸš€ Launching Claude Code #1..."
LOG_FILE="/tmp/claw-$(date +%s).log"
nohup ./start.sh > "$LOG_FILE" 2>&1 &
PID=$!
echo "âœ… THE-CLAW is starting (PID: $PID)"
echo "ğŸ“ Logs: $LOG_FILE"
